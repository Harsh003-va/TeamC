{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sriraj\\\\Documents\\\\GitHub\\\\EnigmasoftCafeProject\\\\cafe\\\\client\\\\src\\\\components\\\\body\\\\auth\\\\Login.js\";\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { showErrMsg, showSuccessMsg } from '../../utils/notification/Notification';\nimport { dispatchLogin } from '../../../redux/actions/authAction';\nimport { useDispatch } from 'react-redux';\nimport './login.css';\nconst initialState = {\n  email: '',\n  password: '',\n  err: '',\n  success: ''\n};\n\nfunction Login() {\n  const [user, setUser] = useState(initialState);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const {\n    email,\n    password,\n    err,\n    success\n  } = user;\n\n  const handleChangeInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser({ ...user,\n      [name]: value,\n      err: '',\n      success: ''\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const res = await axios.post('/user/login', {\n        email,\n        password\n      });\n      setUser({ ...user,\n        err: '',\n        success: res.data.msg\n      });\n      localStorage.setItem('firstLogin', true);\n      dispatch(dispatchLogin());\n      history.push(\"/\");\n    } catch (err) {\n      err.response.data.msg && setUser({ ...user,\n        err: err.response.data.msg,\n        success: ''\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bgg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login_page\",\n    id: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/Home\",\n    class: \"formbar\",\n    id: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-mug-hot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 56\n    }\n  }, \"Enjoy By having Our Delicious Coffee\"), \" \"), err && showErrMsg(err), success && showSuccessMsg(success), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, \"Email Address :\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Enter email address\",\n    id: \"email\",\n    value: email,\n    name: \"email\",\n    onChange: handleChangeInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, \"Password  :\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Enter password\",\n    id: \"password\",\n    value: password,\n    name: \"password\",\n    onChange: handleChangeInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/forgot_password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, \"Forgot your password?\"))), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, \" Not Have An Account? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 38\n    }\n  }, \"Sign Up Here\"))));\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Sriraj/Documents/GitHub/EnigmasoftCafeProject/cafe/client/src/components/body/auth/Login.js"],"names":["React","useState","Link","useHistory","axios","showErrMsg","showSuccessMsg","dispatchLogin","useDispatch","initialState","email","password","err","success","Login","user","setUser","dispatch","history","handleChangeInput","e","name","value","target","handleSubmit","preventDefault","res","post","data","msg","localStorage","setItem","push","response"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport {showErrMsg, showSuccessMsg} from '../../utils/notification/Notification'\nimport {dispatchLogin} from '../../../redux/actions/authAction'\nimport {useDispatch} from 'react-redux'\n\nimport './login.css'\n\n\nconst initialState = {\n    email: '',\n    password: '',\n    err: '',\n    success: ''\n}\n\nfunction Login() {\n    const [user, setUser] = useState(initialState)\n    const dispatch = useDispatch()\n    const history = useHistory()\n\n    const {email, password, err, success} = user\n\n    const handleChangeInput = e => {\n        const {name, value} = e.target\n        setUser({...user, [name]:value, err: '', success: ''})\n    }\n\n\n    const handleSubmit = async e => {\n        e.preventDefault()\n        try {\n            const res = await axios.post('/user/login', {email, password})\n            setUser({...user, err: '', success: res.data.msg})\n\n            localStorage.setItem('firstLogin', true)\n\n            dispatch(dispatchLogin())\n            history.push(\"/\")\n\n        } catch (err) {\n            err.response.data.msg && \n            setUser({...user, err: err.response.data.msg, success: ''})\n        }\n    }\n\n   \n\n    \n\n    return (\n        <div className='bgg'>\n        <div className=\"login_page\" id='login'>\n             <a href=\"/Home\" class=\"formbar\" id='form'><i class=\"fas fa-mug-hot\">Enjoy By having Our Delicious Coffee</i> </a>\n            {err && showErrMsg(err)}\n            {success && showSuccessMsg(success)}\n\n            <form onSubmit={handleSubmit}>\n                <div>\n                    <label htmlFor=\"email\">Email Address :</label>\n                    <input type=\"email\" placeholder=\"Enter email address\" id=\"email\"\n                    value={email} name=\"email\" onChange={handleChangeInput} />\n                </div>\n\n                <div>\n                    <label htmlFor=\"password\">Password  :</label>\n                    <input type=\"password\" placeholder=\"Enter password\" id=\"password\"\n                    value={password} name=\"password\" onChange={handleChangeInput} />\n                </div>\n\n                <div className=\"row\">\n                    <button className='button' type=\"submit\">Login</button>\n                    <Link to=\"/forgot_password\">Forgot your password?</Link>\n                </div>\n            </form>\n\n            \n\n\n            <p> Not Have An Account? <Link to=\"/register\">Sign Up Here</Link></p>\n          \n        </div>\n        </div>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}